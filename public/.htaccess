# Configuración para Rc El Bosque en Hostinger

# Proteger archivos sensibles
<FilesMatch "^(config\.php|config\.production\.php|config\.hostinger\.php|\.htaccess|test_hostinger_connection\.php|verificar_despliegue\.php|diag\.php|reset_admin\.php|fix_.*\.php|create_database.*\.php|rename_database\.php)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Ocultar errores en producción
php_flag display_errors off
php_flag log_errors on

# Configurar zona horaria (ajusta según tu ubicación)
php_value date.timezone "America/Bogota"

# Habilitar compresión (mejora rendimiento)
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript
</IfModule>

# Cache para archivos estáticos
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/webp "access plus 1 year"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
</IfModule>

# Prevenir listado de directorios
Options -Indexes

# Proteger carpeta de uploads (solo lectura de imágenes)
<IfModule mod_rewrite.c>
    RewriteEngine On
    # Permitir acceso a imágenes
    RewriteCond %{REQUEST_FILENAME} -f
    RewriteRule ^uploads/ - [L]
</IfModule>

# Proteger archivos PHP de prueba y desarrollo
# Permitir reset_password.php y process_password_reset.php (recuperación de contraseña)
<FilesMatch "^(test|debug|diag|reset_admin|fix|create_admin|create_password_resets_table|rename|verificar).*\.php$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Proteger archivos SQL
<FilesMatch "\.sql$">
    Order allow,deny
    Deny from all
</FilesMatch>
